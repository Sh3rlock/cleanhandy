{% extends 'base.html' %}
{% load static %}
{% block content %}
  <style>
    .cmn-input {
      border-radius: 8px;
      border: 1px solid #F15A29;
      background: var(--white-color);
      padding: 15px 10px !important;
      width: 100%;
      margin-bottom: 15px !important;
  }

  .bg-layer {
      height: 80% !important;
  }

  .common-banner {
      padding: 30px 0 70px !important;
    }

  .service-details {
      padding: 0px 0 !important;
  }

  .leave-comments-form textarea {
      width: 100%;
      height: 150px !important;s
  }

    .service-form-card {
      background: #fff;
      padding: 2rem;
      border-radius: 16px;
      box-shadow: 0 4px 30px rgba(0, 0, 0, 0.05);
      font-family: 'Inter', sans-serif;
      max-width: 100%;
    }
    
    .form-title {
      font-size: 1.8rem;
      font-weight: 700;
      margin-bottom: 1.5rem;
    }
    
    .input,
    .textarea {
      width: 100%;
      padding: 0.75rem 1rem;
      margin-bottom: 1rem;
      border: 1px solid #ddd;
      border-radius: 8px;
      font-size: 1rem;
      transition: border-color 0.2s;
      box-sizing: border-box;
    }
    
    .input:focus,
    .textarea:focus {
      border-color: #ff6b35;
      outline: none;
    }
    
    .textarea {
      min-height: 120px;
      resize: vertical;
    }
    
    .form-row {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      margin-bottom: 1rem;
    }
    
    .form-group {
      flex: 1;
      min-width: 120px;
    }
    
    .checkbox-wrap {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin: 1rem 0;
      font-size: 0.95rem;
    }
    
    .btn-submit {
      width: 100%;
      background: #e1552f;
      color: #fff;
      font-weight: 600;
      padding: 0.9rem 1rem;
      border: none;
      border-radius: 10px;
      font-size: 1.05rem;
      cursor: pointer;
      transition: background 0.3s ease;
    }
    
    .btn-submit:hover {
      background: #c84827;
    }

    
    /* Responsive tweaks */
    @media (max-width: 768px) {
      .form-row {
        flex-direction: column;
      }
    
      .form-group {
        width: 100%;
      }
    } 
    
    /*.step {
      display: block;
    }
    
    .hidden-step {
      display: none;
    } */
    
    .service-skills {
      display: flex;
      justify-content: space-between;
      gap: 1rem;
      flex-wrap: wrap;
      margin-top: 2rem;
    }
    
    .service-duration h6,
    .package-name p {
      margin: 0;
      font-size: 0.95rem;
    }
    
    .package-name h5 {
      margin: 0;
      font-weight: 600;
    }
    
    /* Responsive design */
    @media (max-width: 768px) {
      .form-row {
        flex-direction: column;
      }
    
      .form-group {
        width: 100%;
      }
    
      .service-skills {
        flex-direction: column;
      }
    }


    /* Basic reset and style to match input fields */
select {
  -webkit-appearance: none; /* Removes default Safari styling */
  -moz-appearance: none;
  appearance: none;

  background-color: white;
  border: 2px solid #e74c3c; /* Match your input border color */
  border-radius: 8px;         /* Rounded corners like your input */
  padding: 10px;
  font-size: 16px;
  width: 100%;
}

/* Optional: Add a custom dropdown arrow */
.form-style select {
  background-image: url("data:image/svg+xml;charset=US-ASCII,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='5'%3E%3Cpath fill='%23333' d='M0 0l5 5 5-5z'/%3E%3C/svg%3E") !important;
  background-repeat: no-repeat !important;
  background-position: right 10px center !important;
  background-size: 10px 5px !important;
}

/* Optional: Hide native arrow in IE */
select::-ms-expand {
  display: none;
}  

.flatpickr-current-month {
  font-size: 130% !important;
}


/* Table */
/* Modern table styling for cleaner look */
.table-clean thead {
  background-color: #f8f9fa;
  font-weight: 600;
  font-size: 0.95rem;
}

.table-clean th,
.table-clean td {
  padding: 1rem;
  border: 1px solid #eaeaea;
  vertical-align: middle;
  font-size: 0.95rem;
}

.table-clean th.text-start {
  font-weight: 600;
  color: #333;
}

.table-clean tbody tr:nth-child(even) {
  background-color: #fcfcfc;
}

.table-clean {
  background-color: #fff;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 6px 24px rgba(0, 0, 0, 0.04);
}

/* Responsive tweak: font shrink on small devices */
@media (max-width: 576px) {
  .table-clean th, .table-clean td {
    font-size: 0.85rem;
    padding: 0.75rem;
  }
}

/* Custom modal*/
.custom-modal {
  display: none;
  position: fixed;
  z-index: 999;
  padding-top: 80px;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  overflow: auto;
  background-color: rgba(0,0,0,0.5);
}

.custom-modal-content {
  background-color: #fff;
  margin: auto;
  padding: 30px;
  border-radius: 12px;
  width: 90%;
  max-width: 700px;
  position: relative;
}

.close-btn {
  position: absolute;
  top: 12px;
  right: 20px;
  font-size: 28px;
  font-weight: bold;
  cursor: pointer;
}

.service-form-card {
  background: #fff;
  padding: 1.5rem;
  border-radius: 8px;
  box-shadow: 0 0.25rem 0.75rem rgba(0,0,0,0.05);
}

.service-list-style {
  padding: 1rem;
  border: 1px solid #F15A29;
  border-radius: 8px;
  margin-bottom: 10px;
}

.list-group-item + .list-group-item {
  border-top-width: 1px !important;
}

.featured-single-info a {
  padding: 8px 35px !important;
}

</style>

  <!-- common banner -->
  <section class="common-banner" style="position: relative;">
    <div class="bg-layer" style="background: url({% static '/assets/images/background/common-banner-bg.jpg' %});"></div>
    <div class="common-banner-content">
      <h3>Service Details</h3>
      <div class="breadcrumb">
        <ul>
          <li class="breadcrumb-item active">
            <a href="{% url 'home' %}">Home</a>
          </li>
          <li class="breadcrumb-item">
            <i class="fa-solid fa-angles-right"></i> Service Details
          </li>
        </ul>
      </div>
      {% if user.is_authenticated %}
        <a class="btn-1" href="{% url 'request_cleaning_booking' %}">Book Home Cleaning</a>
      {% else %}
        <a class="btn-1" href="{% url 'cleaning_booking' %}">Book Home Cleaning</a>
      {% endif %}
              {% if user.is_authenticated %}
          <a class="btn-1" href="{% url 'office_cleaning_booking' %}">Book Office Cleaning</a>
        {% else %}
          <a class="btn-1" href="{% url 'office_cleaning_booking' %}">Book Office Cleaning</a>
        {% endif %}
      <!-- {% if user.is_authenticated %}
        <a class="btn-1" href="{% url 'request_handyman_booking' %}">Book Handyman</a>
      {% else %}
        <a class="btn-1" href="{% url 'handyman_booking' %}">Book Handyman</a>
      {% endif %} -->
    </div>
  </section>
  <!-- common banner -->

  <!-- service details -->
  <section class="service-details">
    <div class="container">
      <div class="common-title">
        <h3>{{ service.name }}</h3>
        <div class="service-details-top-btn">
          <div class="btn-left">
            <a href="#0">Cleaning</a>
            <a href="#0"><i class="fa-light fa-location-dot"></i> New York, USA</a>
          </div>
          <div class="btn-right d-flex gap-2"></div>
        </div>
      </div>
      <div class="row">
        <div class="col-lg-8">
          <div class="service-details-image">
            <img src="{{ service.service_detail_image.url }}" alt="image" />
          </div>
          <h3>Recommended number of cleaners and time according to square footage and type of service.</h3>
          <div class="table-responsive mt-4">
            <table class="table table-clean text-center align-middle">
              <thead class="table-light">
                <tr>
                  <th class="text-start" style="min-width: 200px;">Type of Service</th>
                  <th>
                    1000–1500<br /><small>SQ FT</small>
                  </th>
                  <th>
                    1500–2000<br /><small>SQ FT</small>
                  </th>
                  <th>
                    2000–2500<br /><small>SQ FT</small>
                  </th>
                  <th>
                    2500–3000<br /><small>SQ FT</small>
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <th class="text-start">Post Renovation Cleaning</th>
                  <td>3C × 6 hrs</td>
                  <td>3C × 8 hrs</td>
                  <td>4C × 8 hrs</td>
                  <td>5C × 8 hrs</td>
                </tr>
                <tr>
                  <th class="text-start">Deep Cleaning</th>
                  <td>2C × 5 hrs</td>
                  <td>3C × 5 hrs</td>
                  <td>3C × 7 hrs</td>
                  <td>3C × 8 hrs</td>
                </tr>
                <tr>
                  <th class="text-start">Move In / Move Out</th>
                  <td>2C × 5 hrs</td>
                  <td>3C × 5 hrs</td>
                  <td>3C × 7 hrs</td>
                  <td>3C × 8 hrs</td>
                </tr>
                <tr>
                  <th class="text-start">Regular Cleaning</th>
                  <td>2C × 3 hrs</td>
                  <td>2C × 5 hrs</td>
                  <td>2C × 7 hrs</td>
                  <td>2C × 8 hrs</td>
                </tr>
              </tbody>
            </table>
          </div>

          <div class="service-details-content mt-4 mb-4">{{ service.description|safe }}</div>
          {% if "office" in service.name|lower %}
            {% if user.is_authenticated %}
              <a class="btn-1" style="margin-bottom: 20px;" href="{% url 'office_cleaning_booking' %}">Book Office Cleaning</a>
            {% else %}
              <a class="btn-1" style="margin-bottom: 20px;" href="{% url 'office_cleaning_booking' %}">Book Office Cleaning</a>
            {% endif %}
          {% else %}
            {% if user.is_authenticated %}
              <a class="btn-1" style="margin-bottom: 20px;" href="{% url 'request_cleaning_booking' %}">Book Home Cleaning</a>
            {% else %}
              <a class="btn-1" style="margin-bottom: 20px;" href="{% url 'cleaning_booking' %}">Book Home Cleaning</a>
            {% endif %}
          {% endif %}
        </div>

        <div class="col-lg-4">
          <div class="service-form-card">
            <h4 class="form-title mb-3">Our Services</h4>

            <div class="list-group">
              <!-- Cleaning Services -->
              <div style="margin-top: 0.5em; margin-bottom: 0.2em; font-weight: bold; color: #F15A29; font-size: 1.08em; letter-spacing: 0.5px; border-bottom: 1px solid #f3c6b1;">Cleaning Services</div>
              {% for service in all_services %}
                {% if service.category.name|lower == 'cleaning' %}
                  <a href="{% url 'request_cleaning_quote' service.id %}" class="service-list-style list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                    <div>
                      <strong>{{ service.name }}</strong><br />
                    </div>
                    <i class="fa-solid fa-arrow-right text-muted"></i>
                  </a>
                {% endif %}
              {% endfor %}
              <!-- Handyman Services -->
              <div style="margin-top: 1em; margin-bottom: 0.2em; font-weight: bold; color: #F15A29; font-size: 1.08em; letter-spacing: 0.5px; border-bottom: 1px solid #f3c6b1;">Handyman Services</div>
              {% for service in all_services %}
                {% if service.category.name|lower == 'handyman' %}
                  <a href="{% url 'request_handyman_quote' service.id %}" class="service-list-style list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                    <div>
                      <strong>{{ service.name }}</strong><br />
                    </div>
                    <i class="fa-solid fa-arrow-right text-muted"></i>
                  </a>
                {% endif %}
              {% endfor %}
              {% if all_services|length == 0 %}
                <div class="text-muted p-3">No services available.</div>
              {% endif %}
            </div>
          </div>

          <div class="blog-sidebar">
            <div class="sidebar-content" style="margin-top: 3rem; box-shadow: 0 0.25rem 0.75rem rgba(0,0,0,0.05);">
              
              <div class="recent-post">
                <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
                    <li class="nav-item" role="presentation">
                      <button class="nav-link active" id="pills-home-tab" data-bs-toggle="pill" data-bs-target="#pills-home" type="button" role="tab" aria-controls="pills-home" aria-selected="true">Popular</button>
                    </li>
                    <li class="nav-item" role="presentation">
                      <button class="nav-link" id="pills-profile-tab" data-bs-toggle="pill" data-bs-target="#pills-profile" type="button" role="tab" aria-controls="pills-profile" aria-selected="false">Recent</button>
                    </li>
                    <li class="nav-item" role="presentation">
                      <button class="nav-link" id="pills-contact-tab" data-bs-toggle="pill" data-bs-target="#pills-contact" type="button" role="tab" aria-controls="pills-contact" aria-selected="false">Trendy</button>
                    </li>
                </ul>
                <div class="tab-content" id="pills-tabContent">
                    <div class="tab-pane fade show active" id="pills-home" role="tabpanel" aria-labelledby="pills-home-tab">
                        <div class="recent-post-list">
                            <div class="recent-post-image">
                                <img src="{% static 'assets/images/blog/blog_cleaning_2.png' %}" alt="Cleaning Trends 2025">
                            </div>
                            <div class="recent-post-info">
                                <a href="{% url 'blog_detail_1' %}">Top Cleaning Trends in NYC for 2025: What Every Homeowner Should Know</a>
                            </div>
                        </div>
                        <div class="recent-post-list">
                            <div class="recent-post-image">
                                <img src="{% static 'assets/images/blog/blog_handyman_1.png' %}" alt="Handyman Trends 2025">
                            </div>
                            <div class="recent-post-info">
                                <a href="{% url 'blog_detail_2' %}">Handyman Services in NYC: Top Trends to Watch in 2025</a>
                            </div>
                        </div>
                        <div class="recent-post-list">
                            <div class="recent-post-image">
                                <img src="{% static 'assets/images/blog/blog_booking_1.png' %}" alt="Booking Systems 2025">
                            </div>
                            <div class="recent-post-info">
                                <a href="{% url 'blog_detail_3' %}">Booking Systems in 2025: Trends, Simplicity, and Smarter Scheduling</a>
                            </div>
                        </div>
                    </div>
                    <div class="tab-pane fade" id="pills-profile" role="tabpanel" aria-labelledby="pills-profile-tab">
                        <div class="recent-post-list">
                            <div class="recent-post-image">
                                <img src="{% static 'assets/images/blog/blog_handyman_1.png' %}" alt="Handyman Trends 2025">
                            </div>
                            <div class="recent-post-info">
                                <a href="{% url 'blog_detail_2' %}">Handyman Services in NYC: Top Trends to Watch in 2025</a>
                            </div>
                        </div>
                        <div class="recent-post-list">
                            <div class="recent-post-image">
                                <img src="{% static 'assets/images/blog/blog_cleaning_2.png' %}" alt="Cleaning Trends 2025">
                            </div>
                            <div class="recent-post-info">
                                <a href="{% url 'blog_detail_1' %}">Top Cleaning Trends in NYC for 2025: What Every Homeowner Should Know</a>
                            </div>
                        </div>
                        <div class="recent-post-list">
                            <div class="recent-post-image">
                                <img src="{% static 'assets/images/blog/blog_booking_1.png' %}" alt="Booking Systems 2025">
                            </div>
                            <div class="recent-post-info">
                                <a href="{% url 'blog_detail_3' %}">Booking Systems in 2025: Trends, Simplicity, and Smarter Scheduling</a>
                            </div>
                        </div>
                    </div>
                    <div class="tab-pane fade" id="pills-contact" role="tabpanel" aria-labelledby="pills-contact-tab">
                        <div class="recent-post-list">
                            <div class="recent-post-image">
                                <img src="{% static 'assets/images/blog/blog_booking_1.png' %}" alt="Booking Systems 2025">
                            </div>
                            <div class="recent-post-info">
                                <a href="{% url 'blog_detail_3' %}">Booking Systems in 2025: Trends, Simplicity, and Smarter Scheduling</a>
                            </div>
                        </div>
                        <div class="recent-post-list">
                            <div class="recent-post-image">
                                <img src="{% static 'assets/images/blog/blog_cleaning_2.png' %}" alt="Cleaning Trends 2025">
                            </div>
                            <div class="recent-post-info">
                                <a href="{% url 'blog_detail_1' %}">Top Cleaning Trends in NYC for 2025: What Every Homeowner Should Know</a>
                            </div>
                        </div>
                        <div class="recent-post-list">
                            <div class="recent-post-image">
                                <img src="{% static 'assets/images/blog/blog_handyman_1.png' %}" alt="Handyman Trends 2025">
                            </div>
                            <div class="recent-post-info">
                                <a href="{% url 'blog_detail_2' %}">Handyman Services in NYC: Top Trends to Watch in 2025</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            </div>
          </div>


        </div>
      </div> <!-- ✅ this closes .row -->
    </div> <!-- ✅ this closes .container -->
  </section>
  <!-- service details -->

  <!-- service 2 -->
  <section class="service-two pt-0" style="background-color: transparent;">
    <div class="container">
      <div class="common-title">
        <h6><i class="fa-solid fa-angles-right"></i> Another Service</h6>
        <h3>Most Related Services</h3>
      </div>

      <div class="row">
        {% for service in related_services %}
          <div class="col-lg-4 col-md-6">
            <div class="service-tow-single">
              <div class="service-tow-single-img">
                <img src="{{ service.service_detail_image.url }}" alt="image" />
              </div>
              <div class="service-tow-single-content">
                <a href="{% url 'request_cleaning_quote' service.id %}" class="service-tow-single-title">{{ service.name }}</a>
                <div class="service-tow-single-rating">
                  <p>
                    <i class="fa-light fa-location-dot"></i> New York, USA
                  </p>
                </div>
                <div class="featured-single-info">
                  {% if "office" in service.name|lower %}
                    {% if user.is_authenticated %}
                      <a class="btn-1" href="{% url 'office_cleaning_booking' %}">Book Office Cleaning</a>
                    {% else %}
                      <a class="btn-1" href="{% url 'office_cleaning_booking' %}">Book Office Cleaning</a>
                    {% endif %}
                  {% else %}
                    {% if user.is_authenticated %}
                      <a class="btn-1" href="{% url 'request_cleaning_booking' %}">Book Now</a>
                    {% else %}
                      <a class="btn-1" href="{% url 'cleaning_booking' %}">Book Now</a>
                    {% endif %}
                  {% endif %}
                  <div class="featured-single-info-left">
                    <p></p><h5></h5>
                  </div>
                </div>
              </div>
            </div>
          </div>
        {% endfor %}
      </div>
    </div>
  </section>
  <!-- service 2 -->

  <script>
  const modal = document.getElementById("cleaningModal");
  const openBtn = document.getElementById("openModalBtn");
  const closeBtn = document.getElementById("closeModalBtn");

  openBtn.onclick = () => {
    modal.style.display = "block";
  }

  closeBtn.onclick = () => {
    modal.style.display = "none";
  }

  window.onclick = (e) => {
    if (e.target === modal) {
      modal.style.display = "none";
    }
  }
</script>
{% endblock %}
